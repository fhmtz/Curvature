<!DOCTYPE html><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>Curvature: HTML5 Canvas Curves Generator/Tool</title><meta name="description" content="Curvature is a designer/tool for curving. It generates Canvas 2d APIs relevant code in different forms. It gives you full control over Bezier curves."><link rel="canonical" href="http://muaz-khan.github.com/Curvature/" /><link rel="author" type="text/html" href="https://plus.google.com/100325991024054712503"><meta name="author" content="Muaz Khan"><style>html,body,div,p,span,a,textarea,label,.options-container p,.no-user-select,h2{padding:0;margin:0;font-family:Verdana,Arial;overflow:hidden;-moz-user-select:none;-o-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}body,html{background-color:#000}canvas{position:absolute}h1{text-indent:-111111px;top:-500px;position:absolute}h2{padding:5px 20px;font-size:20px;font-weight:normal;color:#ff0;border-bottom:1px solid gray;box-shadow:inset 0 0 550px rgba(255,255,255,.3)}.output-container{margin-left:20px;margin-right:20px;color:#fff;font-size:14px;box-shadow:0 0 15px white}.output-container,.menu-buttons div,.expand-options,.options-popup{-webkit-transition:all .3s ease;-moz-transition:all .3s ease;-o-transition:all .3s ease;-ms-transition:all .3s ease;transition:all .3s ease}.output-container,.menu-buttons{border-bottom-left-radius:10px;border-bottom-right-radius:10px}#help-section p{padding:10px 20px}.author{position:fixed;bottom:-2px;right:0;padding:5px 10px;border-top-left-radius:5px}.author,.red-button{box-shadow:inset 0 0 5px white;background:red;background-image:-webkit-gradient(linear,left top,left bottom,color-stop(0%,#a90329),color-stop(44%,#8f0222),color-stop(100%,#6d0019));background:-webkit-linear-gradient(top,#a90329 0%,#8f0222 44%,#6d0019 100%);background:-moz-linear-gradient(top,#a90329 0%,#8f0222 44%,#6d0019 100%);background:-o-linear-gradient(top,#a90329 0%,#8f0222 44%,#6d0019 100%);background:-ms-linear-gradient(top,#a90329 0%,#8f0222 44%,#6d0019 100%);background:linear-gradient(top,#a90329 0%,#8f0222 44%,#6d0019 100%)}a{color:#fff;text-decoration:none}a:hover{color:#ff0}.menu-buttons{background:#fff;color:#000}.menu-buttons div{box-shadow:inset 0 0 5px Gray;display:inline-block;padding:5px 10px;cursor:default;font-size:14px}.menu-buttons div,.expand-options{background-repeat:no-repeat;background-position:5px center;padding-left:25px}.options{background-image:url(Curvature/images/options.png)}.help{background-image:url(https://lh3.googleusercontent.com/-lY2j9RGOZVU/TzcworKRHfI/AAAAAAAAAmc/UWXS4FNQdLM/h120/help.png)}.undo{background-image:url(https://lh4.googleusercontent.com/--UirLJXORRY/TzcwpeirBeI/AAAAAAAAAmo/fogy7c-NglQ/h120/undo.png)}.new-curve{background-image:url(https://lh6.googleusercontent.com/-dPstIg-u40I/TzcwpYp9GjI/AAAAAAAAAms/jlgbeJQkA-M/h120/new.png)}.hide-show{background-image:url(https://lh3.googleusercontent.com/-4HxjeDWkn54/TzcwophRrrI/AAAAAAAAAmg/qpxpF9JwsM4/h120/hide-show.png)}.menu-buttons div:hover{box-shadow:inset 0 0 25px Gray;background-position:4px center}.menu-buttons div:active{color:gray}textarea{font-size:12px;font-family:Consolas,'Andale Mono','Lucida Console','Courier New',monospace;padding:10px;overflow:auto;resize:vertical;outline:none}textarea,p{-moz-user-select:initial;-o-user-select:initial;-webkit-user-select:initial;-ms-user-select:initial;user-select:initial}.text-area-parentNode{font-size:14px}.text-area-parentNode{color:#ff0}.text-area-parentNode p{padding:5px}label:hover{color:#d7d700}.options-container{display:none;padding:10px}.highlighter{width:200px;display:inline-block}ul{margin-left:20px;padding-left:5px;list-style-type:circle}ul li{padding:5px}.expand-options{cursor:default;margin-left:10px;background-image:url(https://lh5.googleusercontent.com/-Q4Dr5_3j5PY/TzcwonaL20I/AAAAAAAAAmk/G3bxP6hEhEA/h120/expand.png)}.expand-options:hover{color:#d7d700}.expand-options:active{background-position:1px center}.options-popup{position:absolute;background:rgba(0,0,0,.8);margin-left:360px;margin-top:5px;padding:0 10px;box-shadow:0 0 10px Gray;border-bottom-left-radius:5px;border-bottom-right-radius:5px;z-index:10000;display:none}.align-options{position:absolute;right:35px;margin-top:3px}.align-options-popup{margin-left:auto;right:20px}[disabled]~label:hover{color:inherit}.red-button{display:inline-block;padding:5px 10px;cursor:default;border-radius:2px}.red-button:hover{box-shadow:inset 0 0 10px white}.red-button:active{box-shadow:inset 0 0 1px white}</style></head><body itemscope itemtype="http://schema.org/WebPage"><h1>Curvature: HTML5 Canvas Curves Generator/Tool</h1><div id="output-container" class="output-container"><div class="text-area-parentNode"><div class="no-user-select" style="padding:5px;"><span style="font-size:20px;margin-left:10px;">The Curvature |</span> <input id="is-absolute-points" type="checkbox" value="" /> <label for="is-absolute-points">Get absolute coordinates</label> <span id="expand-options" class="expand-options">Options</span> <div id="options-popup" class="options-popup"><ul><li><input type="checkbox" id="shorten-code" value /> <label for="shorten-code">Shorten the code!</label> </li><li><input id="make-relevant-xy-points" type="checkbox" value="" /> <label for="make-relevant-xy-points">Make relevant startingX/startingY points</label> </li><li><input id="replace-moveTo-points" type="checkbox" value="" /> <label for="replace-moveTo-points">Replace starting and ending points' positions at new curve</label> </li><li><input id="do-not-clear-rect" type="checkbox" value="" /> <label for="do-not-clear-rect">Auto create new curves</label> </li><li><input id="is-fill-color" type="checkbox" value="" /> <label for="is-fill-color">Temporarily fill a color in the last curve</label> </li><li><input type="checkbox" id="drag-whole-curve" value="" /> <label for="drag-whole-curve">Drag the whole curve</label> </li><li><input type="checkbox" id="drag-whole-drawing" value="" /> <label for="drag-whole-drawing">Drag all curves at a time (whole drawing!)</label> </li><li><input type="checkbox" id="copy-current-drawing" value="" /> <label for="copy-current-drawing">Copy current drawing (all curves) </label></li></ul></div><span id="expand-align-options" class="expand-options align-options">Align Curves</span> <div id="align-options-popup" class="options-popup align-options-popup"><ul><li><input type="radio" id="align-horizontally" checked /> <label for="align-horizontally">Align Horizontally</label> <input type="radio" id="align-vertically" /> <label for="align-vertically">Align Vertically</label> </li><li style="opacity:.4;"><input type="checkbox" id="custom-align-points" disabled /> <label for="custom-align-points">Align to this point:</label> <input type="text" id="custom-align-points-text" disabled /> </li><li><input type="checkbox" id="default-align-points" checked /> <label for="default-align-points">Align to relevant topmost points</label> </li><li><input type="checkbox" id="align-all" checked /> <label for="align-all">Align All </label><ul id="other-align-options" style="opacity:.4;"><li><input type="checkbox" id="align-starting-points" disabled checked /> <label for="align-starting-points">Align Starting Points</label> </li><li><input type="checkbox" id="align-ending-points" disabled checked /> <label for="align-ending-points">Align Ending Points</label> </li><li><input type="checkbox" id="align-first-control-points" disabled checked /> <label for="align-first-control-points">Align First Control Points</label> </li><li><input type="checkbox" id="align-second-control-points" disabled checked /> <label for="align-second-control-points">Align Second Control Points</label> </li></ul></li><li><div class="red-button" id="align-points-redButton">Align Points</div></li></ul></div></div>
<textarea id="text-area" readonly></textarea> </div><div id="help-section" style="display:none;"><h2>Help! </h2><ul><li>Developed & Designed by <a href="https://plus.google.com/100325991024054712503" rel="author">Muaz Khan</a> ( <a href="http://twitter.com/muazkh">@muazkh</a> ). </li><li>--------------------------------------------------- </li><li>Press "N" key to create new curve. </li><li>Press "U" key to go back to previous curve. </li><li>--------------------------------------------------- </li><li><a href="https://github.com/muaz-khan/Curvature" title="Source code on Github" style="color: yellow;">github.com/muaz-khan/Curvature</a> </li></ul></div><div class="menu-buttons"><div id="help" class="help">Help </div><div id="undo" class="undo" style="margin-left: 2px;">Undo </div><div id="share" class="new-curve" style="margin-left: 2px;">Share </div><div id="hide-show" class="hide-show" style="float:right;">Hide </div><div id="new-curve" class="new-curve" style="float:right;margin-right: 2px;">New Curve </div></div></div><canvas id="temp-canvas"></canvas> <canvas id="backward-canvas"></canvas> <canvas id="designer-canvas"></canvas> <div class="author"><a href="https://plus.google.com/100325991024054712503" rel="author">Muaz Khan</a> <a href="http://twitter.com/muazkh" title="http://twitter.com/muazkh">( @muazkh )</a> </div><script>(function(){function pi(){o.canvas.addEventListener(h?"touchstart":"mousedown",tr,!1),o.canvas.addEventListener(h?"touchmove":"mousemove",gi,!1),o.canvas.addEventListener(h?"touchend":"mouseup",wi,!1),at.addEventListener("keyup",ir,!1),oi.addEventListener(h?"touchstart":"click",lt,!1),di.addEventListener(h?"touchstart":"click",fi,!1),nr.addEventListener(h?"touchstart":"click",ui,!1),yi.addEventListener(h?"touchstart":"click",ii,!1),ft.addEventListener(h?"touchstart":"click",bt,!1),vi.addEventListener(h?"touchstart":"click",li,!1),ki.addEventListener(h?"touchstart":"click",si,!1),document.body.addEventListener(h?"touchstart":"click",ei,!1),i("#options-popup").addEventListener(h?"touchstart":"click",ri,!1),i("#align-options-popup").addEventListener(h?"touchstart":"click",ci,!1),i("#expand-align-options").addEventListener(h?"touchstart":"click",ai,!1),o.canvas.width=c.canvas.width=nt.canvas.width=innerWidth,o.canvas.height=c.canvas.height=nt.canvas.height=innerHeight,v.style.width=innerWidth-60+"px",v.style.height=innerHeight/4+"px",o.strokeStyle=nt.strokeStyle=c.strokeStyle="yellow",o.font="20px Verdana, Arial",o.lineWidth=nt.lineWidth=c.lineWidth=2,l(0,0,o),k(),d()}function ot(n,t,i,r,u){t.beginPath(),n?(t.fillStyle="white",t.fillText(i+" ("+(r-10)+", "+u+")",r+10,u+10),t.fillStyle="rgba(255, 255, 0, .8)"):t.fillStyle="transparent"}function st(n,t,i){n.moveTo(t,i),n.arc(t-10,i,10,0,Math.PI*2,!1),n.closePath(),n.fill(),n.stroke()}function l(t,i,o){o.clearRect(0,0,5e4,5e4),ot(e.firstCircle,o,"moveTo",t,i),st(o,r.firstX,r.firstY),ot(e.secondCircle,o,"1st Control Point",t,i),st(o,r.secondX,r.secondY),ot(e.thirdCircle,o,"2nd Control Point",t,i),st(o,r.thirdX,r.thirdY),ot(e.fourthCircle,o,"Ending Point",t,i),st(o,r.fourthX,r.fourthY),o.beginPath(),o.moveTo(n.startingX,n.startingY),o.bezierCurveTo(n.firstX,n.firstY,n.secondX,n.secondY,n.endingX,n.endingY),o.stroke(),wt&&(o.fillStyle="rgba(255, 255, 0, .8)",o.fill()),f[f.length-1]=[n.startingX,n.startingY],u[u.length-1]=[n.firstX,n.firstY,n.secondX,n.secondY,n.endingX,n.endingY],ti&&t!==0&&(c.lineWidth=2,c.strokeStyle="yellow",c.beginPath(),c.moveTo(n.startingX,n.startingY),c.bezierCurveTo(n.firstX,n.firstY,n.secondX,n.secondY,n.endingX,n.endingY),c.stroke(),f[f.length]=[n.startingX,n.startingY],u[u.length]=[n.firstX,n.firstY,n.secondX,n.secondY,n.endingX,n.endingY]),d()}function wi(n){n.preventDefault(),h&&(n=n.pageX?n:n.touches.length?n.touches[0]:{pageX:0,pageY:0});var i=n.pageX-o.canvas.offsetLeft,t=n.pageY-o.canvas.offsetTop;gt(),e.defaults(),l(i,t,o)}function gt(){if(!et)return;u=ut.bezierPoints.concat(u),f=ut.startingPoints.concat(f),g(),k(),et=i("#copy-current-drawing").checked=i("#drag-whole-drawing").checked=p=!1,nt.clearRect(0,0,5e4,5e4)}function ct(t,i,u){var s=it[0],h=it[1],c=t>=s,a=i>=h,f;c?(f=t-s,(e.firstCircle||u)&&(r.firstX+=f,n.startingX+=f),(e.secondCircle||u)&&(r.secondX+=f,n.firstX+=f),(e.thirdCircle||u)&&(r.thirdX+=f,n.secondX+=f),(e.fourthCircle||u)&&(r.fourthX+=f,n.endingX+=f)):(f=s-t,(e.firstCircle||u)&&(r.firstX-=f,n.startingX-=f),(e.secondCircle||u)&&(r.secondX-=f,n.firstX-=f),(e.thirdCircle||u)&&(r.thirdX-=f,n.secondX-=f),(e.fourthCircle||u)&&(r.fourthX-=f,n.endingX-=f)),a?(f=i-h,(e.firstCircle||u)&&(r.firstY+=f,n.startingY+=f),(e.secondCircle||u)&&(r.secondY+=f,n.firstY+=f),(e.thirdCircle||u)&&(r.thirdY+=f,n.secondY+=f),(e.fourthCircle||u)&&(r.fourthY+=f,n.endingY+=f)):(f=h-i,(e.firstCircle||u)&&(r.firstY-=f,n.startingY-=f),(e.secondCircle||u)&&(r.secondY-=f,n.firstY-=f),(e.thirdCircle||u)&&(r.thirdY-=f,n.secondY-=f),(e.fourthCircle||u)&&(r.fourthY-=f,n.endingY-=f)),it=[t,i],k(),l(t,i,o),g()}function bi(n,t){for(var e=it[0],o=it[1],s=n>=e,c=t>=o,i,h=u.length,r=0;r<h;r++)s?(i=n-e,f[r][0]+=i,u[r][0]+=i,u[r][2]+=i,u[r][4]+=i):(i=e-n,f[r][0]-=i,u[r][0]-=i,u[r][2]-=i,u[r][4]-=i),c?(i=t-o,f[r][1]+=i,u[r][1]+=i,u[r][3]+=i,u[r][5]+=i):(i=o-t,f[r][1]-=i,u[r][1]-=i,u[r][3]-=i,u[r][5]-=i);g(),ct(n,t,!0)}function g(n,t,i){var o,e,r;for(n=n||c,t=t||f,i=i||u,n.clearRect(0,0,5e4,5e4),n.beginPath(),o=i.length,e=0;e<o;e++)n.moveTo(t[e][0],t[e][1]),r=i[e],n.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);n.stroke()}function s(n,t,i){return n=n>t?i+" + "+(n-t):n<t?i+" - "+(t-n):i}function k(){for(var e=f,i=u,h=i.length,r,o,t={moveToX:0,moveToY:0,firstX:0,firstY:0,secondX:0,secondY:0,endingX:0,endingY:0},n=0;n<h;n++)n==0?(t={moveToX:e[n][0],moveToY:e[n][1],firstX:i[n][0],firstY:i[n][1],secondX:i[n][2],secondY:i[n][3],endingX:i[n][4],endingY:i[n][5]},yt?(o="var startingX = "+t.moveToX+", startingY = "+t.moveToY+";\n",r="context.moveTo( startingX, startingY );\ncontext.bezierCurveTo( "+s(i[n][0],t.moveToX,"startingX")+", "+s(i[n][1],t.moveToY,"startingY")+", "+s(i[n][2],t.moveToX,"startingX")+", "+s(i[n][3],t.moveToY,"startingY")+", "+s(i[n][4],t.moveToX,"startingX")+", "+s(i[n][5],t.moveToY,"startingY")+" );"):(o="var startingX = "+t.moveToX+", startingY = "+t.moveToY+", firstX = "+t.firstX+", firstY = "+t.firstY+", secondX = "+t.secondX+", secondY = "+t.secondY+", endingX = "+t.endingX+", endingY = "+t.endingY+";\n",r="context.moveTo( startingX, startingY );\ncontext.bezierCurveTo( firstX, firstY, secondX, secondY, endingX, endingY );")):(o="context.moveTo( "+s(e[n][0],t.moveToX,"startingX")+", "+s(e[n][1],t.moveToY,"startingY")+" )",r=yt?"context.bezierCurveTo( "+s(i[n][0],t.moveToX,"startingX")+", "+s(i[n][1],t.moveToY,"startingY")+", "+s(i[n][2],t.moveToX,"startingX")+", "+s(i[n][3],t.moveToY,"startingY")+", "+s(i[n][4],t.moveToX,"startingX")+", "+s(i[n][5],t.moveToY,"startingY")+" );":"context.bezierCurveTo( "+s(i[n][0],t.firstX,"firstX")+", "+s(i[n][1],t.firstY,"firstY")+", "+s(i[n][2],t.secondX,"secondX")+", "+s(i[n][3],t.secondY,"secondY")+", "+s(i[n][4],t.endingX,"endingX")+", "+s(i[n][5],t.endingY,"endingY")+" );"),ht[n]=o,b[n]=r}function gi(n){n.preventDefault(),h&&(n=n.pageX?n:n.touches.length?n.touches[0]:{pageX:0,pageY:0});var i=n.pageX-o.canvas.offsetLeft,t=n.pageY-o.canvas.offsetTop;e.any()?y?ct(i,t,!0):p?bi(i,t):ct(i,t):(kt(i,t),l(i,t,o),e.defaults())}function kt(n,t){n>r.firstX-20&&n<r.firstX&&t>r.firstY-10&&t<r.firstY+10?e.firstCircle=!0:n>r.secondX-20&&n<r.secondX&&t>r.secondY-10&&t<r.secondY+10?e.secondCircle=!0:n>r.thirdX-20&&n<r.thirdX&&t>r.thirdY-10&&t<r.thirdY+10?e.thirdCircle=!0:n>r.fourthX-20&&n<r.fourthX&&t>r.fourthY-10&&t<r.fourthY+10&&(e.fourthCircle=!0)}function tr(n){n.preventDefault(),h&&(n=n.pageX?n:n.touches.length?n.touches[0]:{pageX:0,pageY:0});var i=n.pageX-o.canvas.offsetLeft,t=n.pageY-o.canvas.offsetTop;kt(i,t),it=[i,t]}function ir(n){n.preventDefault(),n.keyCode===78?lt():n.keyCode===85&&ii()}function d(){var n="",o,t,r,s;if(a)if(b.length)for(o=b.length,t=0;t<o;t++)n+=ht[t]+"\n",n+=b[t]+"\n\n";if(tt)for(n="",o=u.length,t=0;t<o;t++)r=u[t],s=f[t],n+="context.moveTo( "+s[0]+", "+s[1]+" );\n",n+="context.bezierCurveTo( "+r[0]+", "+r[1]+", "+r[2]+", "+r[3]+", "+r[4]+", "+r[5]+" );\n\n";n.substr(n.length-4,n.length)==="\n\n"&&(n=n.substr(0,n.length-4)),v.value=n,e.any()&&(v.parentNode.style.display="block",i("#help-section").style.display="none"),v.focus(),rt&&dt()}function lt(){c.beginPath(),c.moveTo(n.startingX,n.startingY),c.bezierCurveTo(n.firstX,n.firstY,n.secondX,n.secondY,n.endingX,n.endingY),wt&&(c.fillStyle="rgba(255, 255, 0, .8)",c.fill()),c.stroke(),f[f.length]=[n.startingX,n.startingY],u[u.length]=[n.firstX,n.firstY,n.secondX,n.secondY,n.endingX,n.endingY],k();if(ni){var e=n.startingX,s=n.startingY,t=r.firstX,i=r.firstY;n.startingX=n.endingX,n.startingY=n.endingY,n.endingX=e,n.endingY=s,r.firstX=r.fourthX,r.firstY=r.fourthY,r.fourthX=t,r.fourthY=i}d(),l(0,0,o)}function ui(){var n=i("#output-container");n.style.marginTop="0",i("#hide-show").innerHTML="Hide",i("#help-section").style.display="block",v.parentNode.style.display="none"}function ii(){gt();if(u.length&&f.length){f.length>1&&(f.length=ht.length=u.length=b.length=u.length-1);var i=f[f.length-1],t=u[u.length-1];r={firstX:i[0]+10,firstY:i[1],secondX:t[0],secondY:t[1],thirdX:t[2],thirdY:t[3],fourthX:t[4]+10,fourthY:t[5]},n={startingX:i[0],startingY:i[1],firstX:t[0],firstY:t[1],secondX:t[2],secondY:t[3],endingX:t[4],endingY:t[5]},l(0,0,o),g()}}function bt(){var t=i("#output-container"),n=innerHeight/4;v.style.height=n+"px",v.parentNode.style.display="block",i("#help-section").style.display="none",ft.innerHTML.indexOf("Hide")!==-1?(t.style.marginTop="-"+(n+50)+"px",ft.innerHTML="Show"):(t.style.marginTop="0",ft.innerHTML="Hide")}function fi(){var n=i("#options-popup");n.style.display="block",vt=!0}function ei(n){var t;vt&&n.target&&n.target.id!=="options-popup"&&n.target.id!=="expand-options"&&(t=i("#options-popup"),t.style.display="none",vt=!1),pt&&n.target&&n.target.id!=="expand-align-options"&&(t=i("#align-options-popup"),t.style.display="none",pt=!1)}function ri(n){n.cancelBubble=!0,n.bubbles=!1}function ci(n){n.cancelBubble=!0,n.bubbles=!1}function li(){var e,s,p,y,b,nt,d,c,a,v,i,h;if(!t.isAny())return;for(w(),e=u.length,s=0;s<e;s++)t.isStartingPoints?(p=t.isHorizontally?t.isDefaultAlignPoints?f[s][0]:t.customPoint:t.isDefaultAlignPoints?f[0][0]:t.customPoint,y=t.isHorizontally?t.isDefaultAlignPoints?f[0][1]:t.customPoint:t.isDefaultAlignPoints?f[s][1]:t.customPoint):(p=f[s][0],y=f[s][1]),f[s]=[p,y],i=u[s],h=u[0],t.isFirstControlPoints?(b=t.isHorizontally?t.isDefaultAlignPoints?i[0]:t.customPoint:t.isDefaultAlignPoints?h[0]:t.customPoint,nt=t.isHorizontally?t.isDefaultAlignPoints?h[1]:t.customPoint:t.isDefaultAlignPoints?i[1]:t.customPoint):(b=i[0],nt=i[1]),t.isSecondControlPoints?(d=t.isHorizontally?t.isDefaultAlignPoints?i[2]:t.customPoint:t.isDefaultAlignPoints?h[2]:t.customPoint,c=t.isHorizontally?t.isDefaultAlignPoints?h[3]:t.customPoint:t.isDefaultAlignPoints?i[3]:t.customPoint):(d=i[2],c=i[3]),t.isEndingPoints?(a=t.isHorizontally?t.isDefaultAlignPoints?i[4]:t.customPoint:t.isDefaultAlignPoints?h[4]:t.customPoint,v=t.isHorizontally?t.isDefaultAlignPoints?h[5]:t.customPoint:t.isDefaultAlignPoints?i[5]:t.customPoint):(a=i[4],v=i[5]),u[s]=[b,nt,d,c,a,v];e=e-1;var et=f[e][0],ft=f[e][1],st=u[e][0],ot=u[e][1],it=u[e][2],tt=u[e][3],ut=u[e][4],rt=u[e][5];r={firstX:et+10,firstY:ft,secondX:st,secondY:ot,thirdX:it,thirdY:tt,fourthX:ut+10,fourthY:rt},n={startingX:et,startingY:ft,firstX:st,firstY:ot,secondX:it,secondY:tt,endingX:ut,endingY:rt},k(),l(0,0,o),g()}function ai(){var n=i("#align-options-popup");n.style.display="block",pt=!0}function w(){var r=i("#custom-align-points-text"),u=i("#custom-align-points"),n=i("#default-align-points");r.parentNode.style.opacity=!t.isDefaultAlignPoints&&t.isAny()?1:.4,n.parentNode.style.opacity=t.isDefaultAlignPoints&&t.isAny()?1:.4,u.checked=!t.isDefaultAlignPoints,n.checked=t.isDefaultAlignPoints,t.isAny()&&!t.isDefaultAlignPoints?(r.removeAttribute("disabled"),u.removeAttribute("disabled"),n.setAttribute("disabled","true")):(r.setAttribute("disabled","true"),u.setAttribute("disabled","true"),n.removeAttribute("disabled")),t.isDefaultAlignPoints||(t.customPoint=parseInt(r.value)||0)}function dt(){var n;if(!rt)return;var h=a&&b.length&&b[0].split("\n"),r=a?ht:f,o=a?b:u,l=a?r[0].replace(";",""):r[0],e=o.length,s,c="for( var i = 0; i < length; i++ ) {\n\tcontext.moveTo( startingPoints[i][0], startingPoints[i][1] );\n\tcontext.bezierCurveTo( bezierPoints[i][0], bezierPoints[i][1], bezierPoints[i][2], bezierPoints[i][3], bezierPoints[i][4], bezierPoints[i][5] );\n}",i,t;if(a){for(n=0;n<e;n++)n===0?(i="["+h[0].replace("context.moveTo(","").replace(")","").replace(";","")+"]",t="["+h[1].replace("context.bezierCurveTo(","").replace(")","").replace(";","")+"]"):(i+=", ["+r[n].replace("context.moveTo(","").replace(")","").replace(";","")+"]",t+=", ["+o[n].replace("context.bezierCurveTo(","").replace(")","").replace(";","")+"]");s=l.replace("\n",";\n")+"var startingPoints = ["+i+"], bezierPoints = ["+t+"], length = "+e+";\n"+c}else{for(n=0;n<e;n++)n===0?(i="["+r[n]+"]",t="["+o[n]+" ]"):(i+=", ["+r[n]+"]",t+=", ["+o[n]+"]");s="var startingPoints = ["+i+"], bezierPoints = ["+t+"], length = "+e+";\n"+c}v.value="",v.value=s}function si(){if(!1 in window.location)return;var n="#";ft.innerHTML.indexOf("Show")!==-1&&(n+="fullScreen=true&"),tt&&(n+="absolute=true&"),rt&&(n+="shorten=true&"),y?n+="dragCurve=true&":p&&(n+="dragDrawing=true&"),n+="starting="+f.join("-")+"&",n+="bezier="+u.join("-"),window.location.hash=n}function hi(){var c=window.location.hash,nt,it,v,w,s,h,b,e,t;if(!c||!c.length)return;for(c=c.substr(1,c.length),nt=c.split("&"),it=nt.length,w=0;w<it;w++){s=nt[w].split("="),s[1]==="true"&&(v=s[0],v==="fullScreen"&&bt(),v==="absolute"&&(i("#is-absolute-points").checked=tt=!0,a=!1,d()),v==="shorten"&&(rt=i("#shorten-code").checked=!0,dt()),v==="dragCurve"?y=i("#drag-whole-curve").checked=!0:v==="dragDrawing"&&(p=i("#drag-whole-drawing").checked=!0));if(s[0]==="starting")for(h=s[1].split("-"),b=h.length,e=0;e<b;e++)t=h[e].split(","),f[e]=[+t[0],+t[1]],n.startingX=+t[0],r.firstX=+t[0]+10,n.startingY=r.firstY=+t[1];if(s[0]==="bezier")for(h=s[1].split("-"),b=h.length,e=0;e<b;e++)t=h[e].split(","),u[e]=[+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]],n.firstX=r.secondX=+t[0],n.firstY=r.secondY=+t[1],n.secondX=r.thirdX=+t[2],n.secondY=r.thirdY=+t[3],n.endingX=+t[4],r.fourthX=+t[4]+10,n.endingY=r.fourthY=+t[5]}g(),k(),l(0,0,o)}var at=window.document,h="createTouch"in at,i=function(n){return at.querySelector(n)},o=i("#designer-canvas").getContext("2d"),c=i("#backward-canvas").getContext("2d"),nt=i("#temp-canvas").getContext("2d"),e={firstCircle:!1,secondCircle:!1,thirdCircle:!1,fourthCircle:!1,any:function(){return this.firstCircle||this.secondCircle||this.thirdCircle||this.fourthCircle},defaults:function(){this.firstCircle=this.secondCircle=this.thirdCircle=this.fourthCircle=!1}},r={firstX:200,firstY:300,secondX:300,secondY:100,thirdX:600,thirdY:100,fourthX:700,fourthY:300},n={startingX:190,startingY:300,firstX:350,firstY:150,secondX:550,secondY:150,endingX:690,endingY:300},tt=!1,a=!0,oi=i("#new-curve"),di=i("#expand-options"),nr=i("#help"),yi=i("#undo"),ft=i("#hide-show"),vi=i("#align-points-redButton"),ki=i("#share"),vt=!1,yt=!1,b=[],ht=[],u=[[0,0]],f=[[0,0]],ti=!1,ni=!1,wt=!1,y=!1,it=[0,0],p=!1,v=i("#text-area"),t={isStartingPoints:!0,isEndingPoints:!0,isFirstControlPoints:!0,isSecondControlPoints:!0,isAll:function(){return this.isStartingPoints&&this.isEndingPoints&&this.isFirstControlPoints&&this.isSecondControlPoints},isAny:function(){return this.isStartingPoints||this.isEndingPoints||this.isFirstControlPoints||this.isSecondControlPoints},checkAll:function(){this.isStartingPoints=this.isEndingPoints=this.isFirstControlPoints=this.isSecondControlPoints=!0},uncheckAll:function(){this.isStartingPoints=this.isEndingPoints=this.isFirstControlPoints=this.isSecondControlPoints=!1},isDefaultAlignPoints:!0,isHorizontally:!0,customPoint:0},pt=!1,et=!1,ut={bezierPoints:[],startingPoints:[]},rt=!1;pi(),i("#do-not-clear-rect").onchange=function(){ti=this.checked},i("#replace-moveTo-points").onchange=function(){ni=this.checked},i("#drag-whole-curve").onchange=function(){y=this.checked,p&&(i("#drag-whole-drawing").checked=p=!1)},i("#drag-whole-drawing").onchange=function(){p=this.checked,y&&(i("#drag-whole-curve").checked=y=!1)},i("#is-fill-color").onchange=function(){wt=this.checked,l(0,0,o)},i("#is-absolute-points").onchange=function(){a=!this.checked,tt=this.checked,l(0,0,o),d()},i("#make-relevant-xy-points").onchange=function(){yt=this.checked,k(),d()},i("#align-vertically").onchange=function(){t.isHorizontally=!this.checked,i("#align-horizontally").checked=!1},i("#align-horizontally").onchange=function(){t.isHorizontally=this.checked,i("#align-vertically").checked=!1},i("#align-all").onchange=function(){var u=i("#other-align-options"),r=document.querySelectorAll("#other-align-options input[type=checkbox]"),n;if(this.checked){for(u.style.opacity=".4",n=0;n<r.length;n++)r[n].setAttribute("disabled","true"),r[n].checked=!0;t.checkAll()}else{for(u.style.opacity="1",n=0;n<r.length;n++)r[n].removeAttribute("disabled"),r[n].checked=!1;t.uncheckAll()}w()},i("#default-align-points").onchange=function(){t.isDefaultAlignPoints=this.checked,w()},i("#custom-align-points").onchange=function(){t.isDefaultAlignPoints=!this.checked,w()},i("#align-starting-points").onchange=function(){t.isStartingPoints=this.checked,w()},i("#align-ending-points").onchange=function(){t.isEndingPoints=this.checked,w()},i("#align-first-control-points").onchange=function(){t.isFirstControlPoints=this.checked,w()},i("#align-second-control-points").onchange=function(){t.isSecondControlPoints=this.checked,w()},i("#copy-current-drawing").onchange=function(){var t,n;ut={bezierPoints:[],startingPoints:[]},t=f.length;if(t<=1){this.checked=!1,lt(),i("#drag-whole-curve").checked=y=!0;return}i("#drag-whole-curve").checked=y=!1,et=i("#drag-whole-drawing").checked=p=this.checked;if(et){for(n=0;n<t;n++)ut.startingPoints[n]=[f[n][0],f[n][1]],ut.bezierPoints[n]=[u[n][0],u[n][1],u[n][2],u[n][3],u[n][4],u[n][5]];g(nt)}},i("#shorten-code").onchange=function(){rt=this.checked,d()},hi()})()</script>
</body></html>